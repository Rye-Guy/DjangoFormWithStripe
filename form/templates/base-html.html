<!doctype html>
<html class="no-js" lang="">
{% load static %}
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hello World</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" type="text/css" href='{% static "css/style.css" %}'>
</head>
<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
   {% if form.errors %}
      {{form.errors}}
    {% endif %}
<div class="content">
  <form action="/" method="POST">
    <div class="paymentForm">
    {% csrf_token %}
    <h2>Fair Locations</h2>
    {% for field in form.select_cities %}
            {{field}}
    {% endfor %}
    {% if form.errors %}
      {{form.errors.select_cities}}
    {% endif %}
    <div id="fair_dates_and_options_container">
      <div id="TorontoFairOptionsContainer" style="display: none;">
        <h3>Toronto Booth Options</h3>
          {% if form.errors.toronto_booth_options %}
              {{form.errors.toronto_booth_options}}
          {% endif %}
        <div class="booth-options">
          <label>{{form.toronto_booth_options}}</label>
        </div>
        <h3>Toronto Fair Dates & Options</h3>
          {% if form.errors.toronto_dates %}
            {{form.errors.toronto_dates}}
          {% endif %}
        <div class="date-options">{{form.toronto_dates}}</div>
      </div>
      <div id="CalgaryFairOptionsContainer" style="display: none;">
        <h3>Calgary Booth Options</h3>
        <div class="booth-options">{{form.calgary_booth_options}}</div>
          {% if form.errors.calgary_booth_options %}
            {{form.errors.calgary_booth_options}}
          {% endif %}
        <h3>Calgary Fair Dates</h3>
          {% if form.errors.calgary_dates %}
            {{form.errors.calgary_dates}}
          {% endif %}
        <div class="date-options">{{form.calgary_dates}}</div>
        <h3>Venue Options</h3>
        <div class="venue-options">
            {{form.calgary_options}}
        </div>
      </div>
      <div id="EdmontonFairOptionsContainer" style="display: none;">

        <h3>Edmonton Booth Options</h3>
          {% if form.errors.edmonton_booth_options %}
            {{form.errors.edmonton_booth_options}}
          {% endif %}
        <div class="booth-options">{{form.edmonton_booth_options}}</div>
        <h3>Edmonton Fair Dates</h3>
          {% if form.errors.edmonton_dates %}
            {{form.errors.edmonton_dates}}
          {% endif %}
        <div class="date-options">{{form.edmonton_dates}}</div>

        <h3>Venue Options</h3>
        <div class="venue-options">
          {{form.edmonton_options}}
        </div>
      </div>
      <div id="WinnipegFairOptionsContainer" style="display: none;">
        <h3>Winnipeg Booth Options</h3>
        <div class="booth-options">{{form.winnipeg_booth_options}}</div>
        <h3>Winnipeg Fair Dates</h3>
          {% if form.errors.winnipeg_dates %}
            {{form.errors.winnipeg_dates}}
          {% endif %}
        <div class="date-options">{{form.winnipeg_dates}}</div>
          {% if form.errors.winnipeg_booth_options %}
            {{form.errors.winnipeg_booth_options}}
          {% endif %}
      </div>
    </div>
    </div>

    <input type="hidden" id="priceInput" name="price" value="">

    <input type="submit" value="Submit!">
    <button id="nextSlide">Billing Info ==></button>
    <div id="billingForm">
    {{customer_form}}
    </div>
  </form>
  <div class="shopping-cart-container">
    <h3>Your Cart Total: <span name='price' id="cart-total" value=""></span></h3>
      <ul id="shoppingCart">
          <li id="torontoCartTotal">Toronto Cart: $<span id="torontoCartNumber">0</span></li>
          <li id="winnipegCartTotal">Winnipeg Cart: $<span id="winnipegCartNumber">0</span></li>
          <li id="calgaryCartTotal">Calgary Cart: $<span id="calgaryCartNumber">0</span></li>
          <li id="edmontonCartTotal">Edmonton Cart: $<span id="edmontonCartNumber">0</span></li>
      </ul>
  </div>
</div>

<form action="/payment/" method="POST">
  <script
    src="https://checkout.stripe.com/checkout.js" class="stripe-button"
    data-key="pk_test_TYooMQauvdEDq54NiTphI7jx"
    data-amount="999"
    data-name="Stripe.com"
    data-description="Widget"
    data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
    data-locale="auto"
    data-zip-code="true">
  </script>
</form>

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src='{% static "js/main.js" %}'></script>
<script src='{% static "js/shoppingCart.js" %}'></script>

</html>
